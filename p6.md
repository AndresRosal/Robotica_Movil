# Explicación de la práctica 6

Al principio de la práctica he tenido problemas porque empecé a descomponer el rvec y el tvec que da la función 'cv2.solvePnP', pero eso solo me llevó a que tuviese un problema calculando la rotación de la cámara con respecto al april tag. Al final he optado por usar las matrices de transformación puras. No he conseguido meterlo todo en una matriz de rotación y translación. Lo he dejado con unas ecuaciones que sacan la posición y el yaw del robot, porque al final tampoco veía que el código fuese demasiado engorroso por tener dos matrices.

La navegación en verdad es mejorable, pero entiendo que no es el objetivo de la práctica. Lo que he hecho es ajustar la velocidad angular con un PID con la intención de orientar el robot hacia la primera detección de tag que viese. Cuando consiguiese centrarse a menos de un threshold va hacia delante. Cuando deja de ver el tag se pone a girar a una velocidad cautelosa (si le ponía más velocidad el PID no era capaz a frenar el giro del robot). En el vídeo se aprecia que las sillas y demás molestaban un poco y no ha navegado por toda la casa en verdad, por eso creo que la navegación es mejorable. Pero la localización parece funcionar obviando algún que otro resalto o desvío muy puntual y repentino.
