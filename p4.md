El programa comienza marcando todos los obstáculos con un número definido en las constantes. De esta manera, cuando el programa detecta ese número, sabe que se trata de un obstáculo y actúa en consecuencia. Se aplica el mismo procedimiento a las zonas no definidas.

A continuación, el programa espera a que se haga clic en el mapa. Es importante tener en cuenta que las coordenadas se deben convertir, ya que las dimensiones de un mapa no coinciden exactamente con las del otro.

El algoritmo wavefront se inicia desde el destino y avanza hacia el robot, realizando además varias iteraciones adicionales a lo largo del perímetro. Estas iteraciones son numerosas, y no  me han generado problemas.

Después se aplican las penalizaciones. Para cada píxel se comprueba si corresponde a un obstáculo. En caso afirmativo, se pinta un cuadrado alrededor del píxel con un tamaño de lado el doble al de un radio , lo que permite que el robot evite colisiones con las paredes.

El robot analiza, dentro de un perímetro definido por un radio, cuál es la casilla con menor penalización. Se desplaza hacia esa casilla durante un tiempo determinado, luego vuelve a calcular otra casilla y repite el proceso.

Para orientarse hacia la casilla objetivo, el robot calcula el ángulo necesario y ajusta su velocidad angular en consecuencia. Además, evalúa la distancia al objetivo, que generalmente es similar porque se encuentra dentro de un radio, y utiliza esta información para modular su velocidad lineal.

Cuando alcanza la casilla objetivo, el robot se detiene y espera a que se realice un nuevo clic en el mapa.
